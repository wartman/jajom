!function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():"function"==typeof define&&define.amd?define(n):e[t]=n()}("jajom",this,function(){var t=/\bsup\b/,e=function(e,n){if(!n||"function"!=typeof e)return e;if((!n.valueOf||n.valueOf()!=e.valueOf())&&t.test(e)){var o=e.valueOf();e=function(){var t=this.sup||r.Object.prototype.sup;this.sup=n;try{var e=o.apply(this,arguments)}finally{this.sup=t}return e},e.valueOf=function(t){return(t="object")?e:o},e.toString=r.Object.toString,e.__hasSup=!0}return e},n=function(t,n,r){r=r||{};for(var o in n)if(n.hasOwnProperty(o))if(r.noWrap)t[o]=n[o];else{var u=t[o];t[o]=e(n[o],u)}},r=function(t){return"object"==typeof t?r.Object.extend(t):r.Object.extend.call(t,r.Object.prototype,r.Object)};return r.Object=function(){},r.Object.extend=function(t,e){if(t=t||{},e=e||{},"function"==typeof t){var o=t;t={constructor:o}}r.__prototyping=!0;var u=this,i=new u;n(i,t),delete r.__prototyping;var o=i.constructor,c=i.constructor=function(){if(!r.__prototyping){var t=o.apply(this,arguments);if(t)return t}};return n(c,u,{noWrap:!0}),c.valueOf=function(t){return"object"==t?c:o.valueOf()},c.ancestor=u,n(c,e),c.prototype=i,c.name=i.name,c},r.Object.methods=function(){for(var t=0;t<=arguments.length;t+=1)n(this.prototype,arguments[t]);return this},r.Object.statics=function(){for(var t=0;t<=arguments.length;t+=1)n(this,arguments[t]);return this},r.Object.valueOf=function(){return"[jajom.Object]"},r.Object.toString=function(){return String(this.valueOf())},r.Object.sup=function(){throw new Error("Called `sup` outside a class method")},r.Object.prototype.sup=r.Object.sup,r.Object.prototype.implement=function(){for(var t=0;t<=arguments.length;t+=1)n(this,arguments[t]);return this},r.Object.create=function(){var t=this,e=arguments,n=function(){return t.apply(this,e)};return n.prototype=t.prototype,new n},r.Object.prototype.constructor=r.Object,r.Singleton=r.Object.extend().statics({getInstance:function(){return this._instance||this.setInstance(),this._instance},setInstance:function(){this._instance=this.create.apply(this,arguments)}}),r});